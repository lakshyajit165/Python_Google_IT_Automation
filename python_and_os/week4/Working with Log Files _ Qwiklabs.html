<!DOCTYPE html>
<!-- saved from url=(0049)https://googlecoursera.qwiklabs.com/focuses/47745 -->
<html lang="en" class="mdl-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
<meta content="[]" name="active-experiments">
<meta content="{&quot;userId&quot;:1416333}" name="help-api-product-data">
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="WcLl/NR/TeFV+AO19yaxK32lIj8FHWsV7XVh2E1uPbB/Qstb6mBNXoVkg4GRqcuayMQNEW78ECT5bSb/nAdYeQ==">
<title>Working with Log Files | Qwiklabs</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0" name="viewport">
<meta content="This lab has instructions to write a script to search the log file for an exact error, then output that error into a separate file so that the user can work out on what&#39;s wrong." name="description">
<meta content="Qwiklabs" name="author">
<meta content="1rRsY0INj8RvwB5EF5pwdxt2A2P9aDgAlsICaJ0d5w0" name="google-site-verification">
<meta content="Working with Log Files | Qwiklabs" property="og:title">
<meta content="website" property="og:type">
<meta content="/favicon-144.png" property="og:image">
<meta content="Qwiklabs" property="og:site_name">
<meta content="This lab has instructions to write a script to search the log file for an exact error, then output that error into a separate file so that the user can work out on what&#39;s wrong." property="og:description">
<meta content="/qwiklabs_logo_900x887.png" property="og:logo" size="900x887">
<meta content="/qwiklabs_logo_994x187.png" property="og:logo" size="994x187">
<meta content="#3681E4" property="msapplication-TileColor">
<meta content="/favicon-144.png" property="msapplication-TileImage">
<link href="https://googlecoursera.qwiklabs.com/favicon-32.png" rel="shortcut icon">
<link color="#3681E4" href="https://googlecoursera.qwiklabs.com/favicon-svg.svg" rel="mask-icon">
<link href="https://googlecoursera.qwiklabs.com/favicon-180.png" rel="apple-touch-icon-precomposed">
<link rel="stylesheet" media="screen" href="./Working with Log Files _ Qwiklabs_files/css">


<!--[if lt IE 9]>
<script src='http://html5shim.googlecode.com/svn/trunk/html5.js' type='text/javascript'></script>
<![endif]-->
<!--[endif]>  <![endif]-->
<script type="text/javascript" async="" src="./Working with Log Files _ Qwiklabs_files/js"></script><script type="text/javascript" async="" src="./Working with Log Files _ Qwiklabs_files/analytics.js"></script><script type="text/javascript" async="" src="./Working with Log Files _ Qwiklabs_files/d58fn3dh7i2n.js"></script><script type="text/javascript" async="" src="./Working with Log Files _ Qwiklabs_files/analytics.min.js"></script><script type="text/javascript" id="www-widgetapi-script" src="./Working with Log Files _ Qwiklabs_files/www-widgetapi.js" async=""></script><script type="text/javascript" async="" src="./Working with Log Files _ Qwiklabs_files/recaptcha__en.js"></script><script>
//<![CDATA[
window.gon={};gon.current_user={"firstname":"LAKSHYAJIT","lastname":"LAXMIKANT","fullname":"LAKSHYAJIT LAXMIKANT","company":"Coursera","email":"lakshyajit165@gmail.com","origin":"googlecoursera-run, lti-coursera","subscriptions":0,"id":"789f4b2951493e14c965318ea3146db7","qlCreatedAt":"2019-02-08 14:17:59 UTC","optIn":null};gon.segment="j4Im8pqIko0Lxq4wVVZWMPMM0EroHUvb";gon.deployment="googlecoursera-run";
//]]>
</script>
<script src="./Working with Log Files _ Qwiklabs_files/api.js"></script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "WebSite",
  "url": "https://www.qwiklabs.com/",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://www.qwiklabs.com/catalog?keywords={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<script id="ze-snippet" src="./Working with Log Files _ Qwiklabs_files/snippet.js"></script>



<link rel="stylesheet" media="all" href="./Working with Log Files _ Qwiklabs_files/application-f1b9d671e7021319525e167789d68714bd025257f91882eabf5c538b5de27cc4.css">
<script>
  EVENT_SOURCE_BASE_URL = "https://googlecoursera-run.qwiklabs.com/nchan-sub?id=";
</script>
<script src="./Working with Log Files _ Qwiklabs_files/webcomponents-loader.js"></script><script src="./Working with Log Files _ Qwiklabs_files/webcomponents-hi.js"></script>
<script src="./Working with Log Files _ Qwiklabs_files/hallofmirrors-644826ee505bd9e3dd5f59de4d122e17477af4cfebe50deb4b73b259c845b7e9.js"></script><script async="" src="./Working with Log Files _ Qwiklabs_files/lazy.min.js"></script>
<script src="./Working with Log Files _ Qwiklabs_files/iframe_api"></script>
<script src="./Working with Log Files _ Qwiklabs_files/vendor-45d462772c30000424907184f70c7157e95fb6227698d1671c5051818a6f60d8.js"></script>
<script src="./Working with Log Files _ Qwiklabs_files/application-46f349194930877e38c8d2d8406ebec4bda0c3de508fab546a47130627cf4904.js"></script>
</head>
<body class="focuses focuses-show lab-show l-full no-nav" cz-shortcut-listen="true">
<div class="header-container">
<div class="header">
<a class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect header__button header__button--nav header__nav-panel-button js-nav-toggle" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">menu</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header__title">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--nav" href="https://www.coursera.org/" data-upgraded=",MaterialButton,MaterialRipple"><ql-icon>arrow_back</ql-icon><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>

<h1 class="headline-5">
Working with Log Files
</h1>
</div>
<div class="header__actions">
<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button header__button--action header__button--search js-header-search-bar-button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">search</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>

<ql-help context="lab" productdata="{&quot;userId&quot;:1416333}" data-analytics-action="opened_help" data-analytics-label="lab"></ql-help>
<a class="header-my-account-button mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect js-my-account-button" data-upgraded=",MaterialButton,MaterialRipple">
<img class="avatar " alt="avatar image" src="./Working with Log Files _ Qwiklabs_files/31c99f8d33487203415d57025d4a6b43.png">
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<div class="header-my-account-menu js-my-account-menu">
<div class="card elevation-2 no-padding">
<div class="my-account-menu__top">
<img class="avatar " alt="avatar image" src="./Working with Log Files _ Qwiklabs_files/31c99f8d33487203415d57025d4a6b43.png">
<div class="my-account-menu__info">
<h4 class="subtitle-headline-1">
LAKSHYAJIT LAXMIKANT
</h4>
<p class="body-2 text--gray">
<span>lakshyajit165@gmail.com</span>
</p>
<a class="button" href="https://googlecoursera.qwiklabs.com/my_account/profile">My Account</a>
</div>
</div>
<div class="my-account-menu__bottom">
<a class="text--green subtitle-headline-2" href="https://googlecoursera.qwiklabs.com/my_account/credits">3 Credits
</a><a data-analytics-action="clicked_sign_out" class="button button--hairline" rel="nofollow" data-method="delete" href="https://googlecoursera.qwiklabs.com/users/sign_out">Sign Out</a>
</div>
</div>
</div>

</div>
</div>
<div class="header__search-bar js-header-search-bar">
<form id="catalog-search-mobile" onsubmit="ql.catalogSearchFilter(); return false;" action="https://googlecoursera.qwiklabs.com/searches/elasticsearch" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="WcLl/NR/TeFV+AO19yaxK32lIj8FHWsV7XVh2E1uPbB/Qstb6mBNXoVkg4GRqcuayMQNEW78ECT5bSb/nAdYeQ==">
<input type="text" name="keywords" id="keywords" placeholder="Search" maxlength="255" aria-label="catalog search bar">
</form>

<a class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect header__button" data-upgraded=",MaterialButton,MaterialRipple">
<i class="material-icons">close</i>
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>
</div>

<nav class="nav-bar">
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/"><ql-icon class="nav-bar__item__icon">
home
</ql-icon>
<span class="nav-bar__item__label">
Home
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/catalog"><ql-icon class="nav-bar__item__icon">
school
</ql-icon>
<span class="nav-bar__item__label">
Catalog
</span>
</a>
<a class="nav-bar__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_learning"><ql-icon class="nav-bar__item__icon">
event_note
</ql-icon>
<span class="nav-bar__item__label">
My Learning
</span>
</a>
</nav>

<nav class="nav-panel js-nav-panel">
<div class="nav-panel__logo">
<div class="logo logo--blue"></div>
</div>
<a title="Home" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/"><ql-icon class="nav-panel__item__icon">
home
</ql-icon>
<div class="nav-panel__item__label">
Home
</div>
</a>
<a title="Catalog" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/catalog"><ql-icon class="nav-panel__item__icon">
school
</ql-icon>
<div class="nav-panel__item__label">
Catalog
</div>
</a>
<a title="My Learning" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_learning"><ql-icon class="nav-panel__item__icon">
event_note
</ql-icon>
<div class="nav-panel__item__label">
My Learning
</div>
</a>
<div class="nav-panel__spacer"></div>
<a title="Profile" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/profile"><ql-icon class="nav-panel__item__icon">
account_circle
</ql-icon>
<div class="nav-panel__item__label">
Profile
</div>
</a>
<a title="Credits &amp; Subscriptions" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/credits"><ql-icon class="nav-panel__item__icon">
money
</ql-icon>
<div class="nav-panel__item__label">
Credits &amp; Subscriptions
</div>
</a>
<a title="Security" tabindex="-1" class="nav-panel__item js-navigation-button" href="https://googlecoursera.qwiklabs.com/my_account/security"><ql-icon class="nav-panel__item__icon">
security
</ql-icon>
<div class="nav-panel__item__label">
Security
</div>
</a>
<div class="nav-panel__spacer"></div>
<a class="nav-panel__item" tabindex="-1" href="https://googlecoursera.qwiklabs.com/focuses/47745#"><ql-help>
<div class="nav-panel__help-item">
<ql-icon class="nav-panel__item__icon">help</ql-icon>
<div class="nav-panel__item__label">Help</div>
</div>
</ql-help>
</a><div class="nav-panel__small-links">
<a tabindex="-1" href="https://googlecoursera.qwiklabs.com/privacy_policy">Privacy</a>
<a tabindex="-1" href="https://googlecoursera.qwiklabs.com/terms_of_service">Terms</a>
</div>
</nav>
<div class="nav-panel__overlay js-nav-toggle"></div>

<main class="js-main">
<span class="hidden" id="flash-sibling-before"></span>

<div class="l-main-wrapper" id="main-wrapper">







<div class="js-lab-state" data-analytics-payload="{&quot;label&quot;:&quot;Working with Log Files&quot;,&quot;lab_name&quot;:&quot;Working with Log Files&quot;,&quot;classroom_name&quot;:null,&quot;deployment&quot;:&quot;googlecoursera-run&quot;}" data-focus-id="47745" data-lab-billing-limit="0.0" data-lab-duration="5400" data-parent="classroom"></div>
<ql-lab-control-panel class="js-lab-control-panel l-lab-control-panel" connectiondetails="[]" connectionfiles="[]" labcontrolbutton="{&quot;disabled&quot;:false,&quot;pending&quot;:false,&quot;running&quot;:false}" labtimer="{&quot;ticking&quot;:false,&quot;secondsRemaining&quot;:5400}" studentresources="[]"></ql-lab-control-panel>
<div class="l-lab-main-body">
<div class="js-lab-content lab-content">
<div class="alert alert--fake js-alert">
<p class="alert__message js-alert-message"></p>
<a class="alert__close js-alert-close">
<i class="fa fa-times"></i>
</a>
<iframe class="l-ie-iframe-fix" src="./Working with Log Files _ Qwiklabs_files/saved_resource(1).html"></iframe>
</div>
<div class="lab-content__markdown-wrapper">
<div class="lab-preamble">
<h1 class="lab-preamble__title">
Working with Log Files
</h1>
<div class="lab-preamble__details subtitle-headline-1">
<span>1 hour 30 minutes</span>
<span>Free</span>
<div class="lab__rating">
<a href="https://googlecoursera.qwiklabs.com/focuses/47745/reviews?parent=catalog"><div class="rateit" data-rateit-readonly="true" data-rateit-value="4.2842"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 68.5472px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>

</a><a data-target="#lab-review-modal" data-toggle="modal">
Rate Lab
</a>
</div>
</div>
</div>

<div class="lab-content__inner-wrapper">
<div class="js-markdown-instructions lab-content__markdown markdown-lab-instructions" id="markdown-lab-instructions">



<h2 id="step1">Introduction</h2>
<p>Imagine one of your colleagues is struggling with a program that keeps throwing an error. Unfortunately, the program's source code is too complicated to easily find the error there. The good news is that the program outputs a log file you can read! Let's write a script to search the log file for the exact error, then output that error into a separate file so you can work out what's wrong.</p>
<h4>What you'll do</h4>
<ul>
<li>Write a script to search the log file using regex to find for the exact error.</li>
<li>Report the error into a separate file so you know what's wrong for further analysis.</li>
</ul>
<p>You'll have 90 minutes to complete this lab.</p>
<h3>Start the lab</h3>
<p>You'll need to start the lab before you can access the materials in the virtual machine OS.  To do this, click the green “Start Lab” button at the top of the screen.</p>
<ql-infobox><strong>Note:</strong> For this lab you are going to access the <strong>Linux VM</strong> through your <strong>local SSH Client</strong>, and not use the <strong>Google Console</strong> (<strong>Open GCP Console</strong> button is not available for this lab).</ql-infobox>
<p><img alt="Start Lab" src="./Working with Log Files _ Qwiklabs_files/dvIz+hCdCLq0P9JbORQrHU9h22GU18bW7Bo_MfQPoSs="></p>
<p>After you click the “Start Lab” button, you will see all the SSH connection details on the left-hand side of your screen. You should have a screen that looks like this:</p>
<p><img alt="Connection details" src="./Working with Log Files _ Qwiklabs_files/T2WTv35A3yGYeomHD1stDaAZpBpVymNqc380RdOBVe4="></p>
<h2 id="step2">Accessing the virtual machine</h2>
<p>Please find one of the three relevant options below based on your device's operating system.</p>
<ql-infobox><strong>Note:</strong> Working with Qwiklabs may be similar to the work you'd perform as an <strong>IT Support Specialist</strong>; you'll be interfacing with a cutting-edge technology that requires multiple steps to access, and perhaps healthy doses of patience and persistence(!). You'll also be using <strong>SSH</strong> to enter the labs -- a critical skill in IT Support that you’ll be able to practice through the labs.</ql-infobox>
<h3>Option 1: Windows Users: Connecting to your VM</h3>
<p>In this section, you will use the PuTTY Secure Shell (SSH) client and your VM’s External IP address to connect.</p>
<p><strong>Download your PPK key file</strong></p>
<p>You can download the VM’s private key file in the PuTTY-compatible <strong>PPK</strong> format from the Qwiklabs Start Lab page. Click on <strong>Download PPK</strong>.</p>
<p><img alt="PPK" src="./Working with Log Files _ Qwiklabs_files/ZWdhDzmDeppdXplN8b2GE+J4HjiEs50sjhmD9fIWS1o="></p>
<p><strong>Connect to your VM using SSH and PuTTY</strong></p>
<ol>
<li>
<p>You can download Putty from <a href="https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe">here</a></p>
</li>
<li>
<p>In the <strong>Host Name (or IP address)</strong> box, enter username@external_ip_address.</p>
</li>
</ol>
<ql-infobox><strong>Note:</strong> Replace <strong>username</strong> and <strong>external_ip_address</strong> with values provided in the lab.</ql-infobox>
<p><img alt="Putty_1" src="./Working with Log Files _ Qwiklabs_files/9WwXv1tzK+UCbpUECb94LBndveI2BCYa9uDRGzctoLg="></p>
<ol start="3">
<li>
<p>In the <strong>Category</strong> list, expand <strong>SSH</strong>.</p>
</li>
<li>
<p>Click <strong>Auth</strong> (don’t expand it).</p>
</li>
<li>
<p>In the <strong>Private key file for authentication</strong> box, browse to the PPK file that you downloaded and double-click it.</p>
</li>
<li>
<p>Click on the <strong>Open</strong> button.</p>
</li>
</ol>
<ql-infobox><strong>Note:</strong> PPK file is to be imported into PuTTY tool using the Browse option available in it. It should not be opened directly but only to be used in PuTTY.</ql-infobox>
<p><img alt="Putty_2" src="./Working with Log Files _ Qwiklabs_files/MwC8aAcTUdtsEuTl2v2DSI7YSCshINv_gzm4ZCSrQig="></p>
<ol start="7">
<li>Click <strong>Yes</strong> when prompted to allow a first connection to this remote SSH server. Because you are using a key pair for authentication, you will not be prompted for a password.</li>
</ol>
<p><strong>Common issues</strong></p>
<p>If PuTTY fails to connect to your Linux VM, verify that:</p>
<ul>
<li>
<p>You entered <strong>&lt;username&gt;</strong>@<strong>&lt;external ip address&gt;</strong> in PuTTY.</p>
</li>
<li>
<p>You downloaded the fresh new PPK file for this lab from Qwiklabs.</p>
</li>
<li>
<p>You are using the downloaded PPK file in PuTTY.</p>
</li>
</ul>
<h3>Option 2: OSX and Linux users: Connecting to your VM via SSH</h3>
<p><strong>Download your VM’s private key file.</strong></p>
<p>You can download the private key file in PEM format from the Qwiklabs Start Lab page. Click on <strong>Download PEM</strong>.</p>
<p><img alt="PEM" src="./Working with Log Files _ Qwiklabs_files/TZ4BSQDq+w742PSPxwNDKIMY180rPQHbNISmuG59wP8="></p>
<p><strong>Connect to the VM using the local Terminal application</strong></p>
<p>A <strong>terminal</strong> is a program which provides a <strong>text-based interface for typing commands</strong>. Here you will use your terminal as an SSH client to connect with lab provided Linux VM.</p>
<ol>
<li>
<p>Open the Terminal application.</p>
<ul>
<li>
<p>To open the terminal in Linux use the shortcut key <strong>Ctrl+Alt+t</strong>.</p>
</li>
<li>
<p>To open terminal in <strong>Mac</strong> (OSX) enter <strong>cmd + space</strong> and search for <strong>terminal</strong>.</p>
</li>
</ul>
</li>
<li>
<p>Enter the following commands.</p>
</li>
</ol>
<ql-infobox><strong>Note:</strong> Substitute the <strong>path/filename for the PEM</strong> file you downloaded, <strong>username</strong> and <strong>External IP Address</strong>.</ql-infobox>
<p>You will most likely find the PEM file in <strong>Downloads</strong>. If you have not changed the download settings of your system, then the path of the PEM key will be <strong>~/Downloads/qwikLABS-XXXXX.pem</strong></p>
<pre><code>chmod 600 ~/Downloads/qwikLABS-XXXXX.pem
</code><button class="button button--copy js-copy-button-0" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<pre><code>ssh -i ~/Downloads/qwikLABS-XXXXX.pem username@External Ip Address
</code><button class="button button--copy js-copy-button-1" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p><img alt="SSH" src="./Working with Log Files _ Qwiklabs_files/H7KOW2FkxOOgsLdxMuZWTl2PoqPlgElnb0YQtC319hQ="></p>
<h3>Option 3: Chrome OS users: Connecting to your VM via SSH</h3>
<ql-infobox><strong>Note:</strong> Make sure you are not in <strong>Incognito/Private mode</strong> while launching the application.</ql-infobox>
<p><strong>Download your VM’s private key file.</strong></p>
<p>You can download the private key file in PEM format from the Qwiklabs Start Lab page. Click on <strong>Download PEM</strong>.</p>
<p><img alt="PEM" src="./Working with Log Files _ Qwiklabs_files/TZ4BSQDq+w742PSPxwNDKIMY180rPQHbNISmuG59wP8="></p>
<p><strong>Connect to your VM</strong></p>
<ol>
<li>
<p>Add Secure Shell from  <a href="https://chrome.google.com/webstore/detail/secure-shell-app/pnhechapfaindjhompbnflcldabbghjo" target="_blank">here</a> to your Chrome browser.</p>
</li>
<li>
<p>Open the Secure Shell app and click on <strong>[New Connection]</strong>.</p>
<p><img alt="new-connection-button" src="./Working with Log Files _ Qwiklabs_files/5wIwLwU6D1mNWkeYsNVEazGLRrzuWsUq6t6_1NnWqcM="></p>
</li>
<li>
<p>In the <strong>username</strong> section, enter the username given in the Connection Details Panel of the lab. And for the <strong>hostname</strong> section, enter the external IP of your VM instance that is mentioned in the Connection Details Panel of the lab.</p>
<p><img alt="username-hostname-fields" src="./Working with Log Files _ Qwiklabs_files/fymsGw1B5jFEANsD41CD5dFrPWa9ASKnqfoVONtOxlA="></p>
</li>
<li>
<p>In the <strong>Identity</strong> section, import the downloaded PEM key by clicking on the <strong>Import…</strong> button beside the field. Choose your PEM key and click on the <strong>OPEN</strong> button.</p>
</li>
</ol>
<ql-infobox><strong>Note:</strong> If the key is still not available after importing it, refresh the application, and select it from the <strong>Identity</strong> drop-down menu.
</ql-infobox>
<ol start="5">
<li>
<p>Once your key is uploaded, click on the <strong>[ENTER] Connect</strong> button below.</p>
<p><img alt="import-button" src="./Working with Log Files _ Qwiklabs_files/knW0T7QscQZ6VVTUPKW_kF4LERKArqDwSQqWnF8GxV8="></p>
</li>
<li>
<p>For any prompts, type <strong>yes</strong> to continue.</p>
</li>
<li>
<p>You have now successfully connected to your Linux VM.</p>
</li>
</ol>
<p>You're now ready to continue with the lab!</p>

<h2 id="step3">View log file</h2>
<p>In the <code>/data</code> directory, there's a file named <code>fishy.log</code>, which contains the system log. Log entries are written in this format:</p>
<p><code>Month Day hour:minute:second mycomputername "process_name"["random 5 digit number"] "ERROR/INFO/WARN" "Error description"</code></p>
<p>For every process, the runtime log that's generated contains a timestamp and appropriate message alongside. You can view all logs using the command below:</p>
<pre><code>cat ~/data/fishy.log
</code><button class="button button--copy js-copy-button-2" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>Output:</p>
<p><img alt="d695ed11047941c4.png" src="./Working with Log Files _ Qwiklabs_files/Dma80IGSdkmgEU87TuUuATDIEzvo9rpij837EEDtxTA="></p>
<h2 id="step4">Find an error</h2>
<p>In this lab, we'll search for the CRON error that failed to start. To do this, we'll use a python script to search log files for a particular type of ERROR log. In this case, we'll search for a <code>CRON</code> error within the fishy.log file that failed to start by narrowing our search to "<code>CRON ERROR Failed to start"</code>.</p>
<p>To get started, let's create a python script named <strong>find_error.py</strong> within scripts directory using nano editor.</p>
<pre><code>cd ~/scripts
</code><button class="button button--copy js-copy-button-3" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<pre><code>nano find_error.py
</code><button class="button button--copy js-copy-button-4"><i class="fa fa-clipboard"></i></button></pre>
<p>Add the shebang line:</p>
<pre><code>#!/usr/bin/env python3
</code><button class="button button--copy js-copy-button-5"><i class="fa fa-clipboard"></i></button></pre>
<p>Import the necessary Python modules:</p>
<pre><code>import sys
import os
import re
</code><button class="button button--copy js-copy-button-6"><i class="fa fa-clipboard"></i></button></pre>
<p>The <strong>sys</strong> module provides information about the Python interpreter's constants, functions, and methods. The <strong>os</strong> module provides a portable way of using operating system dependent functionality with Python.</p>
<p>Regular Expression (RegEx) is a sequence of characters that defines a search pattern. We can use regular expressions using <strong>re</strong> module.</p>
<p>Now, write a function <code>error_search</code> that takes <code>log_file</code> as a parameter and returns <code>returned_errors</code>. Define the <code>error_search</code> function and pass the log file to it as a parameter.</p>
<pre><code>def error_search(log_file):
</code><button class="button button--copy js-copy-button-7"><i class="fa fa-clipboard"></i></button></pre>
<p>To allow us to search all log files for any type of logs, we'll be making our script consistent and dynamic.</p>
<p>Define an input function to receive the type of ERROR that the end-user would like to search and assign to a variable named <code>error</code>.</p>
<p>The input() function takes the input from the user and then evaluates the expression. This means Python automatically identifies whether the user entered a string, a number, or a list. If the input provided isn't correct then Python will raise either a syntax error or exception. The program flow will stop until the user has given an input.</p>
<p>Later in the script, we'll iterate over this user input and the log file to produce results. Following the input function, now initialize the list <code>returned_errors</code>.  This will enlist all the ERROR logs as specified by the end-user through the input function.</p>
<pre><code>  error = input("What is the error? ")
  returned_errors = []
</code><button class="button button--copy js-copy-button-8"><i class="fa fa-clipboard"></i></button></pre>
<p>Use the Python file's handling methods to open the log file in reading mode and use 'UTF-8' encoding.</p>
<pre><code>  with open(log_file, mode='r',encoding='UTF-8') as file:
</code><button class="button button--copy js-copy-button-9"><i class="fa fa-clipboard"></i></button></pre>
<p>We'll now read each log separately from the <code>fishy.log</code> file using the <code>readlines()</code> method. As mentioned earlier, we'll iterate over user input to get the desired search results. For this, we'll create a list to store all the patterns (user input) that will be searched. This list is named <code>error_patterns</code> and, initially it has a pattern "<strong>error</strong>" to filter out all the ERROR logs only. You can change this to view other types of logs such as INFO and WARN. You can also empty initialize the list to fetch all types of logs, irrespective of their type.</p>
<p>We'll add the whole user input to this list <code>error_patterns</code>.</p>
<pre><code>    for log in  file.readlines():
      error_patterns = ["error"]
      for i in range(len(error.split(' '))):
        error_patterns.append(r"{}".format(error.split(' ')[i].lower()))
</code><button class="button button--copy js-copy-button-10"><i class="fa fa-clipboard"></i></button></pre>
<p>Now, let's use the <code>search()</code> method (present in re module) to check whether the file <code>fishy.log</code> has the user defined pattern and, if it is available, append them to the list <code>returned_errors</code>.</p>
<pre><code>      if all(re.search(error_pattern, log.lower()) for error_pattern in error_patterns):
        returned_errors.append(log)
</code><button class="button button--copy js-copy-button-11"><i class="fa fa-clipboard"></i></button></pre>
<p>Next, close the file <code>fishy.log</code> and return the results stored in the list <code>returned_errors</code>.</p>
<pre><code>    file.close()
  return returned_errors
</code><button class="button button--copy js-copy-button-12"><i class="fa fa-clipboard"></i></button></pre>
<p>Great job! You've successfully defined a function to store all the logs defined as a CRON error that fails to start. In the next section, we'll generate a new file consisting of the logs based on your search within <code>/data</code> directory.</p>
<h2 id="step5">Create an output file</h2>
<p>Let's define another function <code>file_output</code> that takes <code>returned_errors</code>, returned by a previous function, as a formal parameter.</p>
<pre><code>def file_output(returned_errors):
</code><button class="button button--copy js-copy-button-13"><i class="fa fa-clipboard"></i></button></pre>
<p>Using Python file handling methods, write <code>returned_errors</code> into the <code>errors_found.log</code> file by opening the file in writing mode. For defining the output file, we'll use the method <code>os.path.expanduser ('~')</code>, which returns the home directory of your system instance. Then, we'll concatenate this path (to the home directory) to the file <code>errors_found.log</code> in <code>/data</code> directory.</p>
<pre><code>  with open(os.path.expanduser('~') + '/data/errors_found.log', 'w') as file:
</code><button class="button button--copy js-copy-button-14"><i class="fa fa-clipboard"></i></button></pre>
<p>Next, write all the logs to the output file by iterating over <code>returned_errors</code>.</p>
<pre><code>    for error in returned_errors:
      file.write(error)
</code><button class="button button--copy js-copy-button-15"><i class="fa fa-clipboard"></i></button></pre>
<p>And finally, close the file.</p>
<pre><code>    file.close()
</code><button class="button button--copy js-copy-button-16"><i class="fa fa-clipboard"></i></button></pre>
<h2 id="step6">Function call</h2>
<p>Now, let's call the functions and run the script.</p>
<p>Define the main function and call both functions that we defined in the earlier sections.</p>
<p>The variable <code>log_file</code> takes in the path to the log file passed as a parameter. In our case, the file is <code>fishy.log</code>. Call the first function i.e., error_search() and pass the variable <code>log_file</code> to the function. This function will search and return a list of errors that would be stored in the variable <code>returned_errors</code>. Call the second function <code>file_output</code> and pass the variable <code>returned_errors</code> as a parameter.</p>
<p>sys.exit(0) is used to exit from Python, the optional argument passed can be an integer giving the exit status (defaulting to zero), or another type of object. If it is an integer, zero is considered "successful termination" and any nonzero value is considered an "abnormal termination" by shells.</p>
<pre><code>if __name__ == "__main__":
  log_file = sys.argv[1]
  returned_errors = error_search(log_file)
  file_output(returned_errors)
  sys.exit(0)
</code><button class="button button--copy js-copy-button-17"><i class="fa fa-clipboard"></i></button></pre>
<p>The complete file find_error.py should now look like this:</p>
<pre><code>#!/usr/bin/env python3
import sys
import os
import re


def error_search(log_file):
  error = input("What is the error? ")
  returned_errors = []
  with open(log_file, mode='r',encoding='UTF-8') as file:
    for log in  file.readlines():
      error_patterns = ["error"]
      for i in range(len(error.split(' '))):
        error_patterns.append(r"{}".format(error.split(' ')[i].lower()))
      if all(re.search(error_pattern, log.lower()) for error_pattern in error_patterns):
        returned_errors.append(log)
    file.close()
  return returned_errors

  
def file_output(returned_errors):
  with open(os.path.expanduser('~') + '/data/errors_found.log', 'w') as file:
    for error in returned_errors:
      file.write(error)
    file.close()
if __name__ == "__main__":
  log_file = sys.argv[1]
  returned_errors = error_search(log_file)
  file_output(returned_errors)
  sys.exit(0)
</code><button class="button button--copy js-copy-button-18" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>Save the file by clicking Ctrl-o, followed by the Enter key and Ctrl-x.</p>
<p>Make the file executable before running it.</p>
<pre><code>sudo chmod +x find_error.py
</code><button class="button button--copy js-copy-button-19"><i class="fa fa-clipboard"></i></button></pre>
<p>Now, run the file by passing the path to <code>fishy.log</code> as a parameter to the script.</p>
<pre><code>./find_error.py ~/data/fishy.log
</code><button class="button button--copy js-copy-button-20" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>This script will now prompt for the type of error to be searched. Continue by entering the following type of error:</p>
<pre><code>CRON ERROR Failed to start
</code><button class="button button--copy js-copy-button-21" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>On successful execution, this will generate an <strong>errors_found.log</strong> file, where you will find all the ERROR logs based on your search. You can view the ERROR log using the command below:</p>
<pre><code>cat ~/data/errors_found.log
</code><button class="button button--copy js-copy-button-22" title="" data-original-title="Copied"><i class="fa fa-clipboard"></i></button></pre>
<p>This will output the following:</p>
<p><img alt="fa35b5be265b9a7b.png" src="./Working with Log Files _ Qwiklabs_files/9YY+Ajyvuw7leTUiQPgKHU2sCF85Y44hdTAujjQ8QcM="></p>
<p>Click <em>Check my progress</em> to verify the objective.
<ql-activity-tracking step="1" labinstanceid="12330404">
Generate a file consisting of required error
</ql-activity-tracking></p>
<h2 id="step7">Congratulations!</h2>
<p>Congrats! You've written a script to search the log file for the exact error, and then output that error into a separate file for further analysis. As an IT specialist, this tool will be super helpful, allowing you to use Python scripting to filter out and analyze all types of logs.</p>
<h2 id="step8">End your lab</h2>
<p>When you have completed your lab, click <strong>End Lab</strong>. Qwiklabs removes the resources you’ve used and cleans the account for you.</p>
<p>You will be given an opportunity to rate the lab experience. Select the applicable number of stars, type a comment, and then click <strong>Submit</strong>.</p>
<p>The number of stars indicates the following:</p>
<ul>
<li>1 star = Very dissatisfied</li>
<li>2 stars = Dissatisfied</li>
<li>3 stars = Neutral</li>
<li>4 stars = Satisfied</li>
<li>5 stars = Very satisfied</li>
</ul>
<p>You can close the dialog box if you don't want to provide feedback.</p>
<p>For feedback, suggestions, or corrections, please use the <strong>Support</strong> tab.</p>



</div>
<div class="js-lab-content-outline lab-content__outline is-stuck">
<a href="https://googlecoursera.qwiklabs.com/focuses/47745#step1" class="">Introduction</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step2" class="">Accessing the virtual machine</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step3" class="">View log file</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step4" class="">Find an error</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step5" class="">Create an output file</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step6" class="">Function call</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step7" class="">Congratulations!</a><a href="https://googlecoursera.qwiklabs.com/focuses/47745#step8" class="is-active">End your lab</a>
</div>
</div>

</div>


</div>
</div>
<div class="lab-assessment__tab js-lab-assessment-tab">
<h5 class="small-label">
Score
</h5>
<h3 class="js-lab-assessment-total-score">5/5</h3>
<iframe class="l-ie-iframe-fix" src="./Working with Log Files _ Qwiklabs_files/saved_resource(2).html"></iframe>
</div>
<div class="lab-assessment__panel js-lab-assessment-panel">
<!-- / If lab_instance has is started and assessment is generated, use -->
<!-- / lab_instance.assessment, otherwise use lab.assessment_manual -->
<div class="lab-assessment__step">
<p class="lab-assessment__step__title">
Generate a file consisting of required error.
</p>
<p class="button button--assessment js-show-run-step-button" step_no="1">
Run Step
</p>
<p class="lab-assessment__step__score">
<span class="js-assessment-step-score-1">5</span>
/ 5
</p>
</div>

<iframe class="l-ie-iframe-fix" src="./Working with Log Files _ Qwiklabs_files/saved_resource(3).html"></iframe>
</div>
<div class="lab-introduction js-lab-introduction is-hidden">
<div class="lab-introduction__inner">
<h1 class="headline-1">Welcome to Your First Lab!</h1>
<ql-icon-button class="js-skip-button">close</ql-icon-button>
<div class="lab-introduction__video">
<iframe allow="autoplay; encrypted-media" allowfullscreen="" frameborder="0" id="lab-introduction" src="./Working with Log Files _ Qwiklabs_files/yF7EDXKTmoQ.html"></iframe>
</div>
<a class="js-skip-button button button--outline">Skip this video</a>
</div>
</div>



</div>
</main>
<div class="modal fade" id="lab-details-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<div class="modal-body">
<p class="l-mbm">
This lab has instructions to write a script to search the log file for an exact error, then output that error into a separate file so that the user can work out on what's wrong.
</p>
<p class="small-label l-mbs">
<strong>
Duration:
</strong>
0m setup
·
90m access
·
90m completion
</p>
<p class="small-label l-mbs">
<span><strong>Levels: </strong>introductory</span>
</p>
<p class="small-label">
<strong>
Permalink:
</strong>
<a href="https://googlecoursera.qwiklabs.com/catalog_lab/2380">https://googlecoursera.qwiklabs.com/catalog_lab/2380</a>
</p>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Got It
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
</div>


</div>
</div>
<iframe class="l-ie-iframe-fix" src="./Working with Log Files _ Qwiklabs_files/saved_resource(4).html"></iframe>
</div>
<div class="modal fade" id="lab-review-modal">
<div class="modal-container">
<div class="mdl-shadow--24dp modal-content">
<form class="simple_form js-lab-review-form" id="new_lab_review" action="https://googlecoursera.qwiklabs.com/lab_reviews" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="✓"><div class="modal-body">
<p class="label">
How satisfied are you with this lab?*
</p>
<div class="rateit js-rateit" data-rateit-max="5" data-rateit-min="0" data-rateit-resetable="false" data-rateit-step="1" data-rateit-value="0"><div class="rateit-reset" style="display: none;"></div><div class="rateit-range" style="width: 80px; height: 16px;"><div class="rateit-selected" style="height: 16px; width: 0px;"></div><div class="rateit-hover" style="height:16px"></div></div></div>
<div class="l-mtm">

<div class="control-group hidden lab_review_user_id"><div class="controls"><input class="hidden" type="hidden" value="1416333" name="lab_review[user_id]" id="lab_review_user_id"></div></div>
<div class="control-group hidden lab_review_classroom_id"><div class="controls"><input class="hidden" type="hidden" value="6089" name="lab_review[classroom_id]" id="lab_review_classroom_id"></div></div>
<div class="control-group hidden lab_review_lab_id"><div class="controls"><input class="hidden" type="hidden" value="2380" name="lab_review[lab_id]" id="lab_review_lab_id"></div></div>
<div class="control-group hidden lab_review_focus_id"><div class="controls"><input class="hidden" type="hidden" value="47745" name="lab_review[focus_id]" id="lab_review_focus_id"></div></div>
<div class="control-group hidden lab_review_rating"><div class="controls"><input class="hidden js-rating-input" type="hidden" name="lab_review[rating]" id="lab_review_rating"></div></div>
<div class="control-group text optional lab_review_comment"><label class="text optional control-label" for="lab_review_comment">Comment</label><div class="controls"><textarea class="text optional" name="lab_review[comment]" id="lab_review_comment"></textarea></div></div>
</div>
</div>
<div class="modal-actions">
<a class="mdl-button mdl-button--primary mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" data-upgraded=",MaterialButton,MaterialRipple">
Cancel
<span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></a>
<input type="submit" name="commit" value="Submit" disabled="disabled" class="btn mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary" id="submit" data-disabled="false" data-disable-with="Submit" data-upgraded=",MaterialButton,MaterialRipple"><span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></input>
</div>
</form>

</div>
</div>
<iframe class="l-ie-iframe-fix" src="./Working with Log Files _ Qwiklabs_files/saved_resource(5).html"></iframe>
</div>

<script>
  $( function() {
    ql.initMaterialInputs();
    initChosen();
    initSearch();
    initTabs();
    ql.list.init();
    ql.favoriting.init();
    ql.header.myAccount.init();
    initTooltips();
    ql.autocomplete.init();
    ql.modals.init();
    ql.toggleButtons.init();
    ql.analytics.init();
    initLabContent( );
  ql.labOutline.links.init();
  ql.labOutline.layout.init();
  initLabReviewModal();
  ql.labAssessment.init();
  ql.labIntroduction.init( true );
  ql.labData.init();
  initLabTranslations( {"are_you_sure":"All done? If you end this lab, you will lose all your work. You may not be able to restart the lab if there is a quota limit. Are you sure you want to end this lab?\n","in_progress":"*In Progress*","ending":"*Ending*","starting":"*Starting, please wait*","end_concurrent_labs":"Sorry, you can only run one lab at a time. To start this lab, please confirm that you want all of your existing labs to end.\n","copied":"Copied","no_resource":"Error retrieving resource.","no_support":"No Support","mac_press":"Press ⌘-C to copy","thanks_review":"Thanks for reviewing this lab.","windows_press":"Press Ctrl-C to copy","days":"days"} );
  ql.labRun.init();
  ql.initHeader();
  ql.navigation.init();
  ql.navPanel.init();
  ql.navigation.init();
  
  });
</script>
<style>
  .mdl-layout__container {
    position: static
  }
</style>


<iframe data-product="web_widget" title="No content" tabindex="-1" aria-hidden="true" src="./Working with Log Files _ Qwiklabs_files/saved_resource(6).html" style="width: 0px; height: 0px; border: 0px; position: absolute; top: -9999px;"></iframe><div><div class="grecaptcha-badge" data-style="bottomright" style="width: 256px; height: 60px; display: block; transition: right 0.3s ease 0s; position: fixed; bottom: 14px; right: -186px; box-shadow: gray 0px 0px 5px; border-radius: 2px; overflow: hidden;"><div class="grecaptcha-logo"><iframe src="./Working with Log Files _ Qwiklabs_files/anchor.html" width="256" height="60" role="presentation" name="a-f30rhgfpy7dk" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response-100000" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;" src="./Working with Log Files _ Qwiklabs_files/saved_resource(7).html"></iframe></div><div><iframe title="Opens a widget where you can chat to one of our agents" id="launcher" tabindex="0" class="zEWidget-launcher zEWidget-launcher--active" style="border: none; background: transparent; z-index: 999998; transform: translateZ(0px); position: fixed; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom; opacity: 1; height: 50px; max-height: 551px; min-height: 50px; margin: 10px 20px; right: 0px; bottom: 0px; width: 113px;width: 113px;" src="./Working with Log Files _ Qwiklabs_files/saved_resource(8).html"></iframe></div><div><iframe title="Find more information here" id="webWidget" tabindex="-1" class="zEWidget-webWidget " style="border: none; background: transparent; z-index: 999999; transform: translateZ(0px); position: fixed; transition-duration: 250ms; transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1); transition-property: opacity, top, bottom; opacity: 0; width: 357px; height: 100%; max-height: 565px; min-height: 150px; margin-left: 8px; margin-right: 8px; top: -9999px; visibility: hidden;" src="./Working with Log Files _ Qwiklabs_files/saved_resource(9).html"></iframe></div><div id="drift-widget-container" style="position: absolute; z-index: 2147483647;"><iframe id="drift-widget" src="./Working with Log Files _ Qwiklabs_files/index.html" title="Drift Messenger" role="complementary" class="drift-widget-hidden" style="border: none; display: block; height: 0px !important; width: 0px !important; position: fixed; top: auto; left: auto; bottom: 0px; right: 0px; visibility: hidden; z-index: 2147483647; max-height: 100vh; max-width: 100vw; transition: none 0s ease 0s; background: none transparent; opacity: 1; pointer-events: auto; touch-action: auto;"></iframe></div></body></html>